<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no"
    />
    <link
      rel="shortcut icon"
      type="image/x-icon"
      href="https://gw.alicdn.com/tfs/TB1ILY9YUH1gK0jSZSyXXXtlpXa-742-996.png"
    />
    <link rel="stylesheet" href="/umi.css" />
    <script>
      window.routerBase = "/";
    </script>
    <script>
      //! umi version: 3.2.24
    </script>
    <script src="https://www.googletagmanager.com/gtag/js?id=G-ZNJQM7Q9TP"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag() {
        dataLayer.push(arguments);
      }
      gtag("js", new Date());
      gtag("config", "G-ZNJQM7Q9TP");
    </script>
    <title>配置</title>
  
</head>
  <body>
    <div id="root"><div class="__dumi-default-layout" data-show-sidemenu="true" data-show-slugs="false" data-site-mode="true" data-gapless="false"><div class="__dumi-default-navbar" data-mode="site"><button class="__dumi-default-navbar-toggle"></button><a class="__dumi-default-navbar-logo" style="background-image:url(&#x27;https://gw.alicdn.com/tfs/TB1ILY9YUH1gK0jSZSyXXXtlpXa-742-996.png&#x27;)" href="/">packjs</a><nav><div class="__dumi-default-search"><input type="search" class="__dumi-default-search-input" value=""/><ul></ul></div><a href="/guides">指南</a><a aria-current="page" class="active" href="/configs">配置</a></nav></div><div class="__dumi-default-menu" data-mode="site"><div class="__dumi-default-menu-inner"><div class="__dumi-default-menu-header"><a class="__dumi-default-menu-logo" style="background-image:url(&#x27;https://gw.alicdn.com/tfs/TB1ILY9YUH1gK0jSZSyXXXtlpXa-742-996.png&#x27;)" href="/"></a><h1>packjs</h1><p></p></div><div class="__dumi-default-menu-mobile-area"><ul class="__dumi-default-menu-nav-list"><li><a href="/guides">指南</a></li><li><a aria-current="page" class="active" href="/configs">配置</a></li></ul></div><ul class="__dumi-default-menu-list"><li><a aria-current="page" class="active" href="/configs">配置</a><ul role="slug-list"><li title="entry" data-depth="2" class=""><a href="/configs#entry"><span>entry</span></a></li><li title="auto" data-depth="2" class=""><a href="/configs#auto"><span>auto</span></a></li><li title="https" data-depth="2" class=""><a href="/configs#https"><span>https</span></a></li><li title="host" data-depth="2" class=""><a href="/configs#host"><span>host</span></a></li><li title="open" data-depth="2" class=""><a href="/configs#open"><span>open</span></a></li><li title="clean" data-depth="2" class=""><a href="/configs#clean"><span>clean</span></a></li><li title="html" data-depth="2" class=""><a href="/configs#html"><span>html</span></a></li><li title="ts" data-depth="2" class=""><a href="/configs#ts"><span>ts</span></a></li><li title="jsx" data-depth="2" class=""><a href="/configs#jsx"><span>jsx</span></a></li><li title="tsx" data-depth="2" class=""><a href="/configs#tsx"><span>tsx</span></a></li><li title="less" data-depth="2" class=""><a href="/configs#less"><span>less</span></a></li><li title="mobile" data-depth="2" class=""><a href="/configs#mobile"><span>mobile</span></a></li><li title="disableCSSModules" data-depth="2" class=""><a href="/configs#disablecssmodules"><span>disableCSSModules</span></a></li><li title="externals" data-depth="2" class=""><a href="/configs#externals"><span>externals</span></a></li><li title="alias" data-depth="2" class=""><a href="/configs#alias"><span>alias</span></a></li><li title="outputPath" data-depth="2" class=""><a href="/configs#outputpath"><span>outputPath</span></a></li><li title="publicPath" data-depth="2" class=""><a href="/configs#publicpath"><span>publicPath</span></a></li><li title="postcssPlugins" data-depth="2" class=""><a href="/configs#postcssplugins"><span>postcssPlugins</span></a></li><li title="extraBabelPresets" data-depth="2" class=""><a href="/configs#extrababelpresets"><span>extraBabelPresets</span></a></li><li title="extraBabelPlugins" data-depth="2" class=""><a href="/configs#extrababelplugins"><span>extraBabelPlugins</span></a></li><li title="devServer" data-depth="2" class=""><a href="/configs#devserver"><span>devServer</span></a></li><li title="webpack" data-depth="2" class=""><a href="/configs#webpack"><span>webpack</span></a></li></ul></li></ul></div></div><div class="__dumi-default-layout-content"><div class="markdown"><h1 id="配置"><a aria-hidden="true" href="#配置"><span class="icon icon-link"></span></a>配置</h1><p>支持<a href="https://www.webpackjs.com/configuration/" target="_blank" rel="noopener noreferrer">webpack 全部配置<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>和扩展配置，以下扩展配置项通过字母排序。</p><blockquote><p>注意：本文关联的所有 npm 依赖，无需用户手动安装，packjs 会在项目运行编译时自动按需安装。</p></blockquote><h2 id="entry"><a aria-hidden="true" href="#entry"><span class="icon icon-link"></span></a>entry</h2><ul><li>Type: <code>object | string</code></li><li>Default: <code>./src</code></li></ul><p>webpack entry points 配置，详细 <a href="https://www.webpackjs.com/concepts/entry-points/" target="_blank" rel="noopener noreferrer">entry points<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p><h2 id="auto"><a aria-hidden="true" href="#auto"><span class="icon icon-link"></span></a>auto</h2><ul><li>Type: <code>boolean</code></li><li>Default: <code>true</code></li></ul><p>自动分析文件依赖，并在运行时执行<code>npm install</code>，原理是根据 src 目录下的文件名确定相关依赖。 如当前检查文件后缀名包含<code>ts</code>、<code>tsx</code>、<code>css</code>、<code>less</code>，会自动添加 typescript 编译配置、react 编译配置、css 编译配置、less 编译配置</p><h2 id="https"><a aria-hidden="true" href="#https"><span class="icon icon-link"></span></a>https</h2><ul><li>Type: <code>boolean</code></li><li>Default: <code>false</code></li></ul><p>开启 https 后，会自动设置 <code>webpack-dev-server</code> 的<code>port:443</code>，<code>https:true</code>，并以 https 的协议启动 dev 服务</p><h2 id="host"><a aria-hidden="true" href="#host"><span class="icon icon-link"></span></a>host</h2><ul><li>Type: <code>string</code></li><li>Default: undefined</li></ul><p>设置 <code>webpack-dev-server</code> 的<code>host</code>字段。</p><p>当 <code>https</code> 设置为 <code>true</code> 且配置的 <code>host</code> 字段为通用域名时，packjs 会开启 <code>https 模式</code>，自动生成该 host 的 https 证书并添加到系统中，且自动创建 host 规则<code>127.0.0.1 host</code>添加到系统 hosts 表中。</p><blockquote><p>注意：：</p><ul><li>若运行命令为非 sudo 模式，运行过程中进程会中断等待授权。</li><li>若当前 host 规则已存在系统 hosts 表中，packjs 不会做其他操作</li><li>开发者可以通过<code>pack host clear</code>清空 packjs 自动生成的所有 host 规则</li></ul></blockquote><h2 id="open"><a aria-hidden="true" href="#open"><span class="icon icon-link"></span></a>open</h2><ul><li>Type: <code>boolean</code></li><li>Default: false</li></ul><p>设置 <code>webpack-dev-server</code> 的<code>open</code>字段，是否在 dev 服务启动完成后自动打开浏览器</p><h2 id="clean"><a aria-hidden="true" href="#clean"><span class="icon icon-link"></span></a>clean</h2><ul><li>Type: <code>boolean</code></li><li>Default: true</li></ul><p>是否在构建项目前清空<code>output&gt;path</code>文件夹</p><h2 id="html"><a aria-hidden="true" href="#html"><span class="icon icon-link"></span></a>html</h2><ul><li>Type: <code>object|boolean</code></li><li>Default: <code>false</code></li></ul><p>配置 <a href="https://github.com/jantimon/html-webpack-plugin" target="_blank" rel="noopener noreferrer">html-webpack-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 插件。 html 若为 boolean 类型，则会使用默认的 html-webpack-plugin 插件配置。html 可以配置<a href="https://github.com/jantimon/html-webpack-plugin#options" target="_blank" rel="noopener noreferrer">html 插件允许的配置<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><p>如：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="// pack.js
export default {
  html: {
    title: &#x27;demo&#x27;,
  },
};
" data-status="copy"></button><div class="token-line"><span class="token comment">// pack.js</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token keyword module">export</span><span class="token plain"> </span><span class="token keyword module">default</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  html</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    title</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;demo&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><p>则实际运行的配置为：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="module.exports = {
  //...
  plugins: [
    new HtmlWebpackPlugin({
      title: &#x27;demo&#x27;,
    }),
  ],
};
" data-status="copy"></button><div class="token-line"><span class="token plain">module</span><span class="token punctuation">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  plugins</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token keyword">new</span><span class="token plain"> </span><span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      title</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;demo&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="ts"><a aria-hidden="true" href="#ts"><span class="icon icon-link"></span></a>ts</h2><ul><li>Type: <code>boolean</code></li><li>Default: <code>false</code></li></ul><p>开启 typescript 编译配置，开启后实际运行的配置为：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="module.exports = {
  //...
  module: {
    rules: [
      {
        test: /\.(ts|tsx)$/,
        exclude: /node_modules/,
        use: [
          {
            loader: &#x27;babel-loader&#x27;,
            options: {
              cacheDirectory: true,
              presets: [[&#x27;@babel/preset-env&#x27;, { modules: &#x27;commonjs&#x27; }], &#x27;@babel/preset-typescript&#x27;],
              plugins: [[&#x27;@babel/plugin-transform-runtime&#x27;, { regenerator: true }]],
            },
          },
        ],
      },
    ],
  },
};
" data-status="copy"></button><div class="token-line"><span class="token plain">module</span><span class="token punctuation">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  module</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    rules</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        test</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token regex">/\.(ts|tsx)$/</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        exclude</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token regex">/node_modules/</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        use</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            loader</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;babel-loader&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            options</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">              cacheDirectory</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">              presets</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;@babel/preset-env&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> modules</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;commonjs&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;@babel/preset-typescript&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">              plugins</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;@babel/plugin-transform-runtime&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> regenerator</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="jsx"><a aria-hidden="true" href="#jsx"><span class="icon icon-link"></span></a>jsx</h2><ul><li>Type: <code>boolean</code></li><li>Default: <code>false</code></li></ul><p>开启 jsx 编译配置，开启后实际运行的配置为：</p><div class="__dumi-default-code-block"><pre class="prism-code language-js"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="module.exports = {
  //...
  module: {
    rules: [
      {
        test: /\.(js|jsx)$/,
        exclude: /node_modules/,
        use: [
          {
            loader: &#x27;babel-loader&#x27;,
            options: {
              cacheDirectory: true,
              presets: [[&#x27;@babel/preset-env&#x27;, { modules: &#x27;commonjs&#x27; }], &#x27;@babel/preset-react&#x27;],
              plugins: [[&#x27;@babel/plugin-transform-runtime&#x27;, { regenerator: true }]],
            },
          },
        ],
      },
    ],
  },
};
" data-status="copy"></button><div class="token-line"><span class="token plain">module</span><span class="token punctuation">.</span><span class="token property-access">exports</span><span class="token plain"> </span><span class="token operator">=</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token comment">//...</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  module</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    rules</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        test</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token regex">/\.(js|jsx)$/</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        exclude</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token regex">/node_modules/</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        use</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            loader</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;babel-loader&#x27;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            options</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">              cacheDirectory</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">              presets</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;@babel/preset-env&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> modules</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token string">&#x27;commonjs&#x27;</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token string">&#x27;@babel/preset-react&#x27;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">              plugins</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&#x27;@babel/plugin-transform-runtime&#x27;</span><span class="token punctuation">,</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"> regenerator</span><span class="token punctuation">:</span><span class="token plain"> </span><span class="token boolean">true</span><span class="token plain"> </span><span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><blockquote><p>注意</p><ul><li>若同时开启<code>ts</code>和<code>jsx</code>，则会自动合并二者配置，开发者无需关心</li></ul></blockquote><h2 id="tsx"><a aria-hidden="true" href="#tsx"><span class="icon icon-link"></span></a>tsx</h2><ul><li>Type: <code>boolean</code></li><li>Default: <code>false</code></li></ul><p>同时开启 <code>ts</code> 和 <code>jsx</code> 编译配置，配置详情如上</p><h2 id="less"><a aria-hidden="true" href="#less"><span class="icon icon-link"></span></a>less</h2><ul><li>Type: <code>boolean</code></li><li>Default: <code>false</code></li></ul><p>支持 less 文件编译</p><h2 id="mobile"><a aria-hidden="true" href="#mobile"><span class="icon icon-link"></span></a>mobile</h2><ul><li>Type: <code>boolean | number</code></li><li>Default: <code>false</code></li></ul><p>开启移动端适配方案，通过 <a href="https://github.com/evrone/postcss-px-to-viewport" target="_blank" rel="noopener noreferrer">postcss-px-to-viewport<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 将 px 转换为 vw。<code>mobile</code> 传 <code>true</code>, 则默认设计稿为 <code>750</code>，如设置 <code>module:350</code> 设置设计稿宽度为 <code>350</code>。</p><p>具体运行时 loader 配置如下</p><div class="__dumi-default-code-block"><pre class="prism-code language-json"><button title="" type="button" class="__dumi-default-icon __dumi-default-btn-copy __dumi-default-code-block-copy-btn" data-clipboard-text="{
  &quot;loader&quot;: &quot;postcss-loader&quot;,
  &quot;options&quot;: {
    &quot;postcssOptions&quot;: {
      &quot;plugins&quot;: [
        [
          &quot;postcss-px-to-viewport&quot;,
          {
            &quot;unitPrecision&quot;: 5,
            &quot;viewportUnit&quot;: &quot;vw&quot;,
            &quot;minPixelValue&quot;: 1,
            &quot;mediaQuery&quot;: false,
            &quot;selectorBlackList&quot;: [&quot;.ignore&quot;],
            &quot;viewportWidth&quot;: 750 // mobile可覆盖该值
          }
        ]
      ]
    }
  }
}
" data-status="copy"></button><div class="token-line"><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;loader&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token property">&quot;options&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token property">&quot;postcssOptions&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">[</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token string">&quot;postcss-px-to-viewport&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token punctuation">{</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token property">&quot;unitPrecision&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">5</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token property">&quot;viewportUnit&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token string">&quot;vw&quot;</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token property">&quot;minPixelValue&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">1</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token property">&quot;mediaQuery&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token boolean">false</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token property">&quot;selectorBlackList&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token punctuation">[</span><span class="token string">&quot;.ignore&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">            </span><span class="token property">&quot;viewportWidth&quot;</span><span class="token operator">:</span><span class="token plain"> </span><span class="token number">750</span><span class="token plain"> </span><span class="token comment">// mobile可覆盖该值</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">          </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">        </span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">      </span><span class="token punctuation">]</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">    </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain">  </span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span><span class="token punctuation">}</span><span class="token plain"></span></div><div class="token-line"><span class="token plain"></span></div></pre></div><h2 id="disablecssmodules"><a aria-hidden="true" href="#disablecssmodules"><span class="icon icon-link"></span></a>disableCSSModules</h2><ul><li>Type: <code>boolean</code></li><li>Default: <code>false</code></li></ul><p>是否禁用<a href="https://github.com/css-modules/css-modules" target="_blank" rel="noopener noreferrer">cssModules<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p><p>注意：通常情况下，packjs 会通过文件名方式选择性的配置 cssModule，规则如下：</p><ul><li>若样式文件名包含 global，则该样式文件禁用 cssModules</li><li>若样式文件名不包含 global，则该样式文件默认开启 cssModules</li></ul><h2 id="externals"><a aria-hidden="true" href="#externals"><span class="icon icon-link"></span></a>externals</h2><ul><li>Type: <code>string | array | object | function | regex</code></li><li>Default: <code>[]</code></li></ul><p>配置 webpack 的 <code>externals</code> 字段，<a href="https://www.webpackjs.com/configuration/externals/#externals" target="_blank" rel="noopener noreferrer">详情<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h2 id="alias"><a aria-hidden="true" href="#alias"><span class="icon icon-link"></span></a>alias</h2><ul><li>Type: <code>string | array | object | function | regex</code></li><li>Default: <code>[]</code></li></ul><p>配置 webpack 的 <code>resolve.alias</code> 字段，<a href="https://www.webpackjs.com/configuration/resolve/#resolve-alias" target="_blank" rel="noopener noreferrer">详情<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h2 id="outputpath"><a aria-hidden="true" href="#outputpath"><span class="icon icon-link"></span></a>outputPath</h2><ul><li>Type: <code>string</code></li><li>Default: <code>dist</code></li></ul><p>配置 webpack 的 <code>output.path</code> 字段，<a href="https://www.webpackjs.com/configuration/output/#output-path" target="_blank" rel="noopener noreferrer">详情<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h2 id="publicpath"><a aria-hidden="true" href="#publicpath"><span class="icon icon-link"></span></a>publicPath</h2><ul><li>Type: <code>string | function</code></li><li>Default: <code>&#x27;&#x27;</code></li></ul><p>配置 webpack 的 <code>output.publicPath</code> 字段，<a href="https://www.webpackjs.com/configuration/output/#output-publicpath" target="_blank" rel="noopener noreferrer">详情<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h2 id="postcssplugins"><a aria-hidden="true" href="#postcssplugins"><span class="icon icon-link"></span></a>postcssPlugins</h2><ul><li>Type: <code>string[]</code></li><li>Default: <code>[]</code></li></ul><p>配置 postcss 插件，<a href="https://www.npmjs.com/package/postcss#options" target="_blank" rel="noopener noreferrer">详情<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><blockquote><p>注意：</p><ul><li>若不配置此字段，且 mobile 为 false，不会加载 postcss 相关配置和依赖</li></ul></blockquote><h2 id="extrababelpresets"><a aria-hidden="true" href="#extrababelpresets"><span class="icon icon-link"></span></a>extraBabelPresets</h2><ul><li>Type: <code>string[]</code></li><li>Default: <code>[]</code></li></ul><p>配置额外的 <code>babel-loader</code> 的<code>options.presets</code>字段，<a href="https://www.npmjs.com/package/babel-loader" target="_blank" rel="noopener noreferrer">详情<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h2 id="extrababelplugins"><a aria-hidden="true" href="#extrababelplugins"><span class="icon icon-link"></span></a>extraBabelPlugins</h2><ul><li>Type: <code>string[]</code></li><li>Default: <code>[]</code></li></ul><p>配置额外的 <code>babel-loader</code> 的<code>options.plugins</code>字段，<a href="https://www.npmjs.com/package/babel-loader" target="_blank" rel="noopener noreferrer">详情<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h2 id="devserver"><a aria-hidden="true" href="#devserver"><span class="icon icon-link"></span></a>devServer</h2><p>配置 webpack 的 devServer，会和上文的 packjs 配置进行合并，优先级高于 packjs 配置，<a href="https://www.webpackjs.com/configuration/dev-server/#devserver" target="_blank" rel="noopener noreferrer">详情<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p><h2 id="webpack"><a aria-hidden="true" href="#webpack"><span class="icon icon-link"></span></a>webpack</h2><p>webpack 配置，会和上文的 packjs 配置进行合并，优先级高于 packjs 配置，<a href="https://www.webpackjs.com/configuration/" target="_blank" rel="noopener noreferrer">详情<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p></div><div class="__dumi-default-layout-footer-meta"><a target="_blank" rel="noopener noreferrer" href="https://github.com/tageecc/packjs/edit/master/docs/configs/index.md">Edit this doc on GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="__dumi-default-external-link-icon"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a><span data-updated-text="Last Update: ">10/27/2020, 1:22:33 PM</span></div></div></div></div>
	<script>
  window.g_useSSR = true;
  window.g_initialProps = {};
	</script>

    <script src="/umi.js"></script>
    <script src="/docs__configs__index.md.js"></script>
  </body>
</html>
